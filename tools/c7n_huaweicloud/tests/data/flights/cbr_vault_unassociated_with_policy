interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Host:
      - cbr.ap-southeast-1.myhuaweicloud.com
      User-Agent:
      - huaweicloud-usdk-python/3.0
      X-Project-Id:
      - ap-southeat-1
      X-Sdk-Date:
      - 20250325T024914Z
    method: GET
    uri: - request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Host:
      - cbr.ap-southeast-1.myhuaweicloud.com
      User-Agent:
      - huaweicloud-usdk-python/3.0
      X-Project-Id:
      - ap-southeat-1
      X-Sdk-Date:
      - 20250325T024914Z
    method: GET
    uri: hhttps://cbr.ap-southeast-1.myhuaweicloud.com/v3/ap-southeat-1/policies?limit=100&offset=0
  response:
    body:
      string: '{"policies":[{"id":"84e4ec76-5edf-4363-bfc5-d4d8cac3e26b","name":"policy_161520-sjw","operation_type":"backup","operation_definition":{"max_backups":-1,"retention_duration_days":30,"day_backups":0,"week_backups":0,"month_backups":0,"year_backups":0,"timezone":"UTC+08:00","full_backup_interval":-1,"created_by":"customer"},"enabled":true,"trigger":{"id":"0153bf15-3e91-4ffd-95fc-0452fb86e325","name":"default","type":"time","properties":{"pattern":["FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=09;BYMINUTE=00","FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=10;BYMINUTE=00"],"start_time":"2024-10-22 08:15:36"}},"associated_vaults":[]},{"id":"c2714760-ffba-43a2-bdbb-dc85485ad8e4","name":"policy_3184-test","operation_type":"backup","operation_definition":{"max_backups":2,"retention_duration_days":-1,"day_backups":0,"week_backups":0,"month_backups":0,"year_backups":0,"timezone":"UTC+08:00","full_backup_interval":-1,"created_by":"customer"},"enabled":true,"trigger":{"id":"aeca9d33-cd0d-4343-90e5-5d8a074b942b","name":"default","type":"time","properties":{"pattern":["FREQ=WEEKLY;BYDAY=SU,MO,TU,WE,TH,FR,SA;BYHOUR=16;BYMINUTE=00","FREQ=WEEKLY;BYDAY=SU,MO,TU,WE,TH,FR,SA;BYHOUR=17;BYMINUTE=00","FREQ=WEEKLY;BYDAY=SU,MO,TU,WE,TH,FR,SA;BYHOUR=18;BYMINUTE=00","FREQ=WEEKLY;BYDAY=SU,MO,TU,WE,TH,FR,SA;BYHOUR=19;BYMINUTE=00","FREQ=WEEKLY;BYDAY=SU,MO,TU,WE,TH,FR,SA;BYHOUR=20;BYMINUTE=00","FREQ=WEEKLY;BYDAY=SU,MO,TU,WE,TH,FR,SA;BYHOUR=21;BYMINUTE=00","FREQ=WEEKLY;BYDAY=SU,MO,TU,WE,TH,FR,SA;BYHOUR=22;BYMINUTE=00","FREQ=WEEKLY;BYDAY=SU,MO,TU,WE,TH,FR,SA;BYHOUR=23;BYMINUTE=00","FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=00;BYMINUTE=00","FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=01;BYMINUTE=00","FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=02;BYMINUTE=00","FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=03;BYMINUTE=00","FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=04;BYMINUTE=00","FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=05;BYMINUTE=00","FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=06;BYMINUTE=00","FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=07;BYMINUTE=00","FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=08;BYMINUTE=00","FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=09;BYMINUTE=00","FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=10;BYMINUTE=00","FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=11;BYMINUTE=00","FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=12;BYMINUTE=00","FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=13;BYMINUTE=00","FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=14;BYMINUTE=00","FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=15;BYMINUTE=00"],"start_time":"2024-05-25 19:18:06"}},"associated_vaults":[]},{"id":"f32b781b-4c18-4b62-9b53-2d13a06cc00a","name":"policy_3180","operation_type":"backup","operation_definition":{"max_backups":-1,"retention_duration_days":30,"day_backups":0,"week_backups":0,"month_backups":0,"year_backups":0,"timezone":"UTC+08:00","full_backup_interval":-1,"created_by":"customer"},"enabled":true,"trigger":{"id":"8d976ee9-9b13-4cde-9eb7-bdb0ffff6a6a","name":"default","type":"time","properties":{"pattern":["FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=14;BYMINUTE=00"],"start_time":"2024-05-25 19:18:02"}},"associated_vaults":[]},{"id":"5b48fd3f-dcf4-46e0-a781-876e3b78503a","name":"policy_31756","operation_type":"backup","operation_definition":{"max_backups":-1,"retention_duration_days":30,"day_backups":0,"week_backups":0,"month_backups":0,"year_backups":0,"timezone":"UTC+08:00","full_backup_interval":-1,"created_by":"customer"},"enabled":true,"trigger":{"id":"020f1c91-dad7-400f-8cba-a4eaa6f18e9d","name":"default","type":"time","properties":{"pattern":["FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=14;BYMINUTE=00"],"start_time":"2024-05-25 19:17:58"}},"associated_vaults":[]},{"id":"2a8129da-eedf-4fa8-bf80-0b70e84248cc","name":"policy_31752","operation_type":"backup","operation_definition":{"max_backups":-1,"retention_duration_days":30,"day_backups":0,"week_backups":0,"month_backups":0,"year_backups":0,"timezone":"UTC+08:00","full_backup_interval":-1,"created_by":"customer"},"enabled":true,"trigger":{"id":"3f3dc5c7-c05d-4cf6-b1d8-1b3ddaf3c202","name":"default","type":"time","properties":{"pattern":["FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=14;BYMINUTE=00"],"start_time":"2024-05-25 19:17:54"}},"associated_vaults":[]},{"id":"b946bf61-0e5e-4669-a16a-cd95796a5fd7","name":"policy_3176","operation_type":"backup","operation_definition":{"max_backups":-1,"retention_duration_days":30,"day_backups":0,"week_backups":0,"month_backups":0,"year_backups":0,"timezone":"UTC+08:00","full_backup_interval":-1,"created_by":"customer"},"enabled":true,"trigger":{"id":"b00dfc14-ca4f-445c-acb0-dde2a80500fd","name":"default","type":"time","properties":{"pattern":["FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=14;BYMINUTE=00"],"start_time":"2024-05-25 19:17:19"}},"associated_vaults":[]},{"id":"597b3e49-4022-47b1-a8d4-2cdf2d62c5f4","name":"policy_185829","operation_type":"backup","operation_definition":{"max_backups":-1,"retention_duration_days":30,"day_backups":0,"week_backups":0,"month_backups":0,"year_backups":0,"timezone":"UTC+08:00","full_backup_interval":-1},"enabled":true,"trigger":{"id":"b461bc6d-ac8f-4348-83ce-786777a4128d","name":"default","type":"time","properties":{"pattern":["FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=14;BYMINUTE=00"],"start_time":"2023-10-09 10:58:31"}},"associated_vaults":[]},{"id":"27e60f18-4457-4548-9057-54e3c795862a","name":"policy_05424","operation_type":"backup","operation_definition":{"max_backups":-1,"retention_duration_days":30,"day_backups":0,"week_backups":0,"month_backups":0,"year_backups":0,"timezone":"UTC+08:00","full_backup_interval":-1},"enabled":true,"trigger":{"id":"121d348e-5c89-4bba-9d3a-deb96affb648","name":"default","type":"time","properties":{"pattern":["FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=14;BYMINUTE=00","FREQ=WEEKLY;BYDAY=SU,MO,TU,WE,TH,FR,SA;BYHOUR=17;BYMINUTE=00"],"start_time":"2023-03-16 16:54:40"}},"associated_vaults":[]},{"id":"6eb5bd35-fafc-408e-96d2-019cd7700e69","name":"policy_163529","operation_type":"backup","operation_definition":{"max_backups":-1,"retention_duration_days":30,"day_backups":0,"week_backups":0,"month_backups":0,"year_backups":0,"timezone":"UTC+08:00","full_backup_interval":-1},"enabled":true,"trigger":{"id":"d9f5f8a2-ca1e-44cc-9ed7-4d064b08fbd0","name":"default","type":"time","properties":{"pattern":["FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR,SA,SU;BYHOUR=14;BYMINUTE=00"],"start_time":"2022-12-18 08:35:31"}},"associated_vaults":[]}],"count":9,"limit":100,"offset":0}'
    headers:
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Tue, 25 Mar 2025 03:33:37 GMT
      Server:
      - api-gateway
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains;
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - SAMEORIGIN
      X-Request-Id:
      - cba864121d45864c750111e7c4f78c3c
      X-XSS-Protection:
      - 1; mode=block;
    status: {code: 200, message: OK}

- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Host:
      - cbr.ap-southeast-1.myhuaweicloud.com
      User-Agent:
      - huaweicloud-usdk-python/3.0
      X-Project-Id:
      - ap-southeat-1
      X-Sdk-Date:
      - 20250325T071711Z
    method: GET
    uri: https://cbr.ap-southeast-1.myhuaweicloud.com/v3/ap-southeat-1/vaults?limit=100&offset=0
  response:
    body:
      string: '{"vaults": [{"id": "06e844ba-d4bf-40be-b07f-c60d3c2ce679", "name": "vault-4eb7", "description": null, "resources": [{"id": "7a84f97a-8ddc-4e5d-b228-a80fe5465508", "type": "OS::Cinder::Volume", "name": "volume-encrypted", "auto_protect": true, "size": 10, "backup_size": 0, "backup_count": 1, "protect_status": "available", "extra_info": {}}], "provider_id": "d1603440-187d-4516-af25-121250c7cc97", "created_at": "2025-03-25T06:12:48.673924", "project_id": "0d9da8861b80f5a32fb4c00645f2dbd7", "enterprise_project_id": "d522b930-e31e-455f-b54e-f8ebdd7c94cd", "auto_bind": false, "bind_rules": {}, "auto_expand": false, "smn_notify": true, "threshold": 80, "user_id": "658345a2dbeb46e69220a04a455a4fb1", "billing": {"allocated": 10, "cloud_type": "public", "consistent_level": "crash_consistent", "frozen_scene": null, "charging_mode": "post_paid", "order_id": null, "product_id": null, "protect_type": "backup", "object_type": "disk", "spec_code": "vault.backup.volume.normal", "is_multi_az": false, "is_double_az": false, "used": 0, "storage_unit": null, "status": "available", "size": 50, "partner_bp_id": null}, "tags": [], "backup_name_prefix": null, "demand_billing": false, "cbc_delete_count": 0, "frozen": false, "availability_zone": "", "sys_lock_source_service": "", "supplier": "", "locked": false, "cross_account": false, "cross_account_urn": ""}, {"id": "42da2015-a512-481a-9c86-f02c08cffc10", "name": "vault-e380-custodian", "description": null, "resources": [{"id": "bf624d88-d268-423c-8206-934120da9e43", "type": "OS::Nova::Server", "name": "ecs-zs-custodian", "auto_protect": true, "size": 50, "backup_size": 17048, "backup_count": 2, "protect_status": "available", "extra_info": {}}], "provider_id": "0daac4c5-6707-4851-97ba-169e36266b66", "created_at": "2025-03-22T02:59:06.548293", "project_id": "0d9da8861b80f5a32fb4c00645f2dbd7", "enterprise_project_id": "d522b930-e31e-455f-b54e-f8ebdd7c94cd", "auto_bind": false, "bind_rules": {"tags": []}, "auto_expand": false, "smn_notify": true, "threshold": 80, "user_id": "658345a2dbeb46e69220a04a455a4fb1", "billing": {"allocated": 50, "cloud_type": "public", "consistent_level": "crash_consistent", "frozen_scene": null, "charging_mode": "post_paid", "order_id": null, "product_id": null, "protect_type": "backup", "object_type": "server", "spec_code": "vault.backup.server.normal", "is_multi_az": false, "is_double_az": false, "used": 17048, "storage_unit": null, "status": "available", "size": 100, "partner_bp_id": null}, "tags": [{"key": "2", "value": "2"}], "backup_name_prefix": null, "demand_billing": false, "cbc_delete_count": 0, "frozen": false, "availability_zone": "", "sys_lock_source_service": "", "supplier": "", "locked": false, "cross_account": false, "cross_account_urn": ""}, {"id": "78fe6b2b-15e1-4fce-9cd9-4cbb5021fe92", "name": "vault-d9a6", "description": null, "resources": [{"id": "edad56cc-577c-494f-81c6-f3378a6dda16", "type": "OS::Nova::Server", "name": "ecs-7d7b", "auto_protect": true, "size": 40, "backup_size": 0, "backup_count": 0, "protect_status": "deleted", "extra_info": {}}], "provider_id": "0daac4c5-6707-4851-97ba-169e36266b66", "created_at": "2025-03-05T08:21:03.410568", "project_id": "0d9da8861b80f5a32fb4c00645f2dbd7", "enterprise_project_id": "0", "auto_bind": false, "bind_rules": {"tags": []}, "auto_expand": false, "smn_notify": true, "threshold": 80, "user_id": "0ce6529ea38010d61fd4c0063b348920", "billing": {"allocated": 40, "cloud_type": "public", "consistent_level": "crash_consistent", "frozen_scene": null, "charging_mode": "post_paid", "order_id": null, "product_id": null, "protect_type": "backup", "object_type": "server", "spec_code": "vault.backup.server.normal", "is_multi_az": false, "is_double_az": false, "used": 0, "storage_unit": null, "status": "available", "size": 100, "partner_bp_id": null}, "tags": [], "backup_name_prefix": null, "demand_billing": false, "cbc_delete_count": 0, "frozen": false, "availability_zone": "", "sys_lock_source_service": "", "supplier": "", "locked": false, "cross_account": false, "cross_account_urn": ""}], "count": 4, "offset": 0, "limit": 100}'
    headers:
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Tue, 25 Mar 2025 07:17:12 GMT
      Server:
      - api-gateway
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains;
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - SAMEORIGIN
      X-Request-Id:
      - ba19b3c904245590387f313b49d63f42
      X-XSS-Protection:
      - 1; mode=block;
    status: {code: 200, message: OK}
version: 1
